---
title: mysql事务
categories: 
    - PHP
tags: 
    - mysql
date: 2015-11-26 19:34:00
---

MySQL的事务支持不是绑定在MySQL服务器本身，而是与存储引擎相关。
 1. MyISAM：不支持事务，用于只读程序提高性能
 2. InnoDB：支持ACID事务、行级锁、并发
 3. Berkeley DB：支持事务

一个事务是一个连续的一组数据库操作，就好像它是一个单一的工作单元进行。换言之，只有该组内的每个单独的操作都是成功的，才是完整的事务。如果在事务的任何操作失败，则整个事务将失败。

事务 ACID Atomicity（原子性）、Consistency（一致性）、Isolation（隔离性）、Durability（持久性）
事务有以下四个标准属性的缩写ACID，通常被称为：
原子性: 确保工作单元内的所有操作都成功完成，否则事务将被中止在故障点，和以前的操作将回滚到以前的状态。
一致性: 确保数据库正确地改变状态后，成功提交的事务。
隔离性: 使事务操作彼此独立的和透明的。
持久性: 确保提交的事务的结果或效果的系统出现故障的情况下仍然存在。

1、事务的原子性
一组事务，要么成功；要么撤回。

2、一致性
有非法数据（外键约束之类），事务撤回。

3、隔离性
事务独立运行。
一个事务处理后的结果，影响了其他事务，那么其他事务会撤回。
事务的100%隔离，需要牺牲速度。

4、持久性
软、硬件崩溃后，InnoDB数据表驱动会利用日志文件重构修改。

[原文链接][1]


  [1]: http://www.cnblogs.com/ymy124/p/3718439.html
